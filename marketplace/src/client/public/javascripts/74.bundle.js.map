{"version":3,"sources":["webpack:///./src/shared/containers/back-office/offers/offers.js"],"names":["Offers","console","log","fetchData","props","tenant","dispatch","billing","disable","endpoint","extended","params","query","Action","all","BackOffice","Billing","fetch","then","actions","forEach","Seo","set","type","data","seoAction","resolve","stateToProps","state","get","toJS","_components","default","TenantProxy"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;;;;;;;;;KAEMA,M;;;;;;;;;;;yCA4BgB;AAClBC,eAAQC,GAAR,CAAY,qBAAZ;AACAF,cAAOG,SAAP,CAAiB,KAAKC,KAAL,CAAWC,MAA5B,EAAoC,KAAKD,KAAL,CAAWE,QAA/C;AACD;;;8BAEQ;AACP,WAAI,KAAKF,KAAL,CAAWG,OAAX,CAAmBC,OAAvB,EAAgC;AAC9B,gBACE;AAAA;AAAA;AAAA;AAAA,UADF;AAGD;AACD,cACE,0CAAQ,KAAK,KAAKJ,KAAL,CAAWG,OAAX,CAAmBE,QAAnB,CAA4BC,QAAzC,EAAmD,WAAU,0BAA7D,GADF;AAGD;;;;AAzCD;;;;;;;+BAOiBL,M,EAAQC,Q,EAAmC;AAAA,WAAzBK,MAAyB,uEAAhB,EAAgB;AAAA,WAAZC,KAAY,uEAAJ,EAAI;;AAC1D,WAAMC,SAAS,sBAAYR,MAAZ,CAAf;AACA,cAAO,mBAAQS,GAAR,CAAY,CACjBD,OAAOE,UAAP,CAAkBC,OAAlB,CAA0BC,KAA1B,EADiB,CAAZ,EAGNC,IAHM,CAGD,mBAAW;AACfjB,iBAAQC,GAAR,CAAYiB,OAAZ;AACA,gBAAOA,QAAQC,OAAR,CAAgBd,QAAhB,CAAP;AACD,QANM,EAONY,IAPM,CAOD;AAAA,gBACJL,OAAOQ,GAAP,CAAWC,GAAX,CAAe;AACbC,iBAAM,YADO;AAEbC,iBAAM;AAFO,UAAf,CADI;AAAA,QAPC,EAYJN,IAZI,CAYC,qBAAa;AACnBZ,kBAASmB,SAAT;AACA,gBAAO,mBAAQC,OAAR,EAAP;AACD,QAfM,CAAP;AAgBD;;;;;;AAmBH,UAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,UAAO;AACLvB,aAAQuB,MAAMC,GAAN,CAAU,QAAV,CADH;AAELtB,cAASqB,MAAMC,GAAN,CAAU,YAAV,EAAwBA,GAAxB,CAA4B,SAA5B,EAAuCC,IAAvC;AAFJ,IAAP;AAID;;AAED,KAAMC,cAAc;AAClBC,YAAS,yBAAQL,YAAR,EAAsB3B,MAAtB;AADS,EAApB;;KAIqBiC,W;;;;;;;yBACR5B,M,EAAQ;AACjB,cAAO0B,YAAY1B,MAAZ,IAAsB0B,YAAY1B,MAAZ,CAAtB,GAA4C0B,YAAYC,OAA/D;AACD;;;;;;mBAHkBC,W","file":"javascripts/74.bundle.js","sourcesContent":["import React from 'react';\nimport Components from 'components';\nimport { connect } from 'react-redux';\nimport Promise from 'bluebird';\nimport Actions from 'flux/actions';\n\nclass Offers extends Components {\n  /*\n  * @param tenant\n  * @param dispatch\n  * @param params\n  * @param query\n  * @returns {Promise|Promise.<T>}\n  */\n  static fetchData(tenant, dispatch, params = {}, query = {}) {\n    const Action = new Actions(tenant);\n    return Promise.all([\n      Action.BackOffice.Billing.fetch(),\n    ])\n    .then(actions => {\n      console.log(actions);\n      return actions.forEach(dispatch);\n    })\n    .then(() => (\n      Action.Seo.set({\n        type: 'backoffice',\n        data: {},\n      })\n    )).then(seoAction => {\n      dispatch(seoAction);\n      return Promise.resolve();\n    });\n  }\n\n  componentDidMount() {\n    console.log('component did mount');\n    Offers.fetchData(this.props.tenant, this.props.dispatch);\n  }\n\n  render() {\n    if (this.props.billing.disable) {\n      return (\n        <div>Billing system not enabled...</div>\n      );\n    }\n    return (\n      <iframe src={this.props.billing.endpoint.extended} className=\"billing-system-offers-bo\" />\n    );\n  }\n}\n\nfunction stateToProps(state) {\n  return {\n    tenant: state.get('tenant'),\n    billing: state.get('backoffice').get('billing').toJS(),\n  };\n}\n\nconst _components = {\n  default: connect(stateToProps)(Offers),\n};\n\nexport default class TenantProxy {\n  static get(tenant) {\n    return _components[tenant] ? _components[tenant] : _components.default;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/containers/back-office/offers/offers.js"],"sourceRoot":""}